# HTTP Client Test
import "http"

println("╔════════════════════════════════════════════╗")
println("║      TotalScript HTTP Client Test         ║")
println("╚════════════════════════════════════════════╝")
println()

println("Testing HTTP GET request...")
var res = http.client.get("https://httpbin.org/get")

if res is Error {
    println("✗ Error:", res.message)
} else {
    println("✓ Request successful!")
    println("  Status:", res["status"])
    println("  OK:", res["ok"])
    println()

    println("Parsing JSON response...")
    var data = res.json()
    if data is Error {
        println("✗ JSON parse error:", data.message)
    } else {
        println("✓ JSON parsed successfully")
        println("  URL:", data["url"])
    }
}
println()

println("Testing HTTP POST request...")
var postRes = http.client.post("https://httpbin.org/post", {"test": "data", "number": 42})

if postRes is Error {
    println("✗ Error:", postRes.message)
} else {
    println("✓ POST request successful!")
    println("  Status:", postRes["status"])
    println("  OK:", postRes["ok"])
}
println()

println("All HTTP client tests completed!")
